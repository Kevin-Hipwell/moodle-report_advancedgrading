function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a,b){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=b("DataTable")}else if("function"==typeof define&&define.amd){define ("report_advancedgrading/vanilla-datatables",[],b("DataTable"))}else{a.DataTable=b("DataTable")}})("undefined"!=typeof global?global:this.window||this.global,function(){"use strict";var b=window,c=document,d=c.body,e={perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"\u25B4",descText:"\u25BE",truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}},f=function(a){return"[object Object]"===Object.prototype.toString.call(a)},g=function(a){return Array.isArray(a)},h=function(a){var b=!1;try{b=JSON.parse(a)}catch(a){return!1}return!(null===b||!g(b)&&!f(b))&&b},j=function(a,b){for(var c in b){if(b.hasOwnProperty(c)){var d=b[c];if(d&&f(d)){a[c]=a[c]||{};j(a[c],d)}else{a[c]=d}}}return a},m=function(a,b,c){if(f(a)){for(var d in a){if(Object.prototype.hasOwnProperty.call(a,d)){b.call(c,a[d],d)}}}else{for(d=0;d<a.length;d++){b.call(c,a[d],d)}}},n=function(a,b,c){a.addEventListener(b,c,!1)},a=function(f,a){var b=c.createElement(f);if(a&&"object"==_typeof(a)){for(var d in a){if("html"===d){b.innerHTML=a[d]}else{b.setAttribute(d,a[d])}}}return b},i=function(a,b){if(a instanceof NodeList){m(a,function(a){i(a,b)})}else{if(b){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}else{a.innerHTML=""}}},k=function(b,c,d){return a("li",{class:b,html:"<a href=\"#\" data-page=\""+c+"\">"+d+"</a>"})},q={add:function add(b,c){if(b.classList){b.classList.add(c)}else{if(!q.contains(b,c)){b.className=b.className.trim()+" "+c}}},remove:function remove(b,c){if(b.classList){b.classList.remove(c)}else{if(q.contains(b,c)){b.className=b.className.replace(new RegExp("(^|\\s)"+c.split(" ").join("|")+"(\\s|$)","gi")," ")}}},contains:function contains(b,c){if(b)return b.classList?b.classList.contains(c):!!b.className&&!!b.className.match(new RegExp("(\\s|^)"+c+"(\\s|$)"))}},r=function(i,a){var b,j;if(1===a){b=0;j=i.length}else{if(-1===a){b=i.length-1;j=-1}}for(var k=!0;k;){k=!1;for(var l=b;l!=j;l+=a){if(i[l+a]&&i[l].value>i[l+a].value){var m=i[l],g=i[l+a];i[l]=g;i[l+a]=m;k=!0}}}return i},s=function(n,o,b,c,p){c=c||2;var r,s=2*c,e=o-c,t=o+c,u=[],h=[];if(o<4-c+s){t=3+s}else if(o>b-(3-c+s)){e=b-(2+s)}for(var i=1;i<=b;i++){if(1==i||i==b||i>=e&&i<=t){var v=n[i-1];q.remove(v,"active");u.push(v)}}m(u,function(b){var c=b.children[0].getAttribute("data-page");if(r){var d=r.children[0].getAttribute("data-page");if(2==c-d)h.push(n[d]);else if(1!=c-d){var e=a("li",{class:"ellipsis",html:"<a href=\"#\">"+p+"</a>"});h.push(e)}}h.push(b);r=b});return h},t=function(b){var c=!1,d=!1;b=b||this.options.data;if(b.headings){c=a("thead");var e=a("tr");m(b.headings,function(b){var c=a("th",{html:b});e.appendChild(c)});c.appendChild(e)}if(b.data&&b.data.length){d=a("tbody");m(b.data,function(c){if(b.headings){if(b.headings.length!==c.length){throw new Error("The number of rows do not match the number of headings.")}}var e=a("tr");m(c,function(b){var c=a("td",{html:b});e.appendChild(c)});d.appendChild(e)})}if(c){if(null!==this.table.tHead){this.table.removeChild(this.table.tHead)}this.table.appendChild(c)}if(d){if(this.table.tBodies.length){this.table.removeChild(this.table.tBodies[0])}this.table.appendChild(d)}},u=function(a,b){var c=!1;if(b){switch(b){case"ISO_8601":c=moment(a,moment.ISO_8601).format("YYYYMMDD");break;case"RFC_2822":c=moment(a,"ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD");break;case"MYSQL":c=moment(a,"YYYY-MM-DD hh:mm:ss").format("YYYYMMDD");break;case"UNIX":c=moment(a).unix();break;default:c=moment(a,b).format("YYYYMMDD");break;}}return c},v=function(a){this.dt=a;return this};v.prototype.swap=function(a){if(a.length&&2===a.length){var c=[];m(this.dt.headings,function(a,b){c.push(b)});var d=a[0],e=a[1],f=c[e];c[e]=c[d];c[d]=f;this.order(c)}};v.prototype.order=function(e){var f,g,j,k,i,l,n,o=[[],[],[],[]],p=this.dt;m(e,function(a,b){i=p.headings[a];l="false"!==i.getAttribute("data-sortable");f=i.cloneNode(!0);f.originalCellIndex=b;f.sortable=l;o[0].push(f);if(0>p.hiddenColumns.indexOf(a)){g=i.cloneNode(!0);g.originalCellIndex=b;g.sortable=l;o[1].push(g)}});m(p.data,function(a,b){j=a.cloneNode();k=a.cloneNode();j.dataIndex=k.dataIndex=b;if(null!==a.searchIndex&&a.searchIndex!==void 0){j.searchIndex=k.searchIndex=a.searchIndex}m(e,function(b){n=a.cells[b].cloneNode(!0);n.data=a.cells[b].data;j.appendChild(n);if(0>p.hiddenColumns.indexOf(b)){n=a.cells[b].cloneNode(!0);n.data=a.cells[b].data;k.appendChild(n)}});o[2].push(j);o[3].push(k)});p.headings=o[0];p.activeHeadings=o[1];p.data=o[2];p.activeRows=o[3];p.update()};v.prototype.hide=function(a){if(a.length){var b=this.dt;m(a,function(a){if(0>b.hiddenColumns.indexOf(a)){b.hiddenColumns.push(a)}});this.rebuild()}};v.prototype.show=function(a){if(a.length){var b,c=this.dt;m(a,function(a){b=c.hiddenColumns.indexOf(a);if(-1<b){c.hiddenColumns.splice(b,1)}});this.rebuild()}};v.prototype.visible=function(a){var b,c=this.dt;a=a||c.headings.map(function(a){return a.originalCellIndex});if(!isNaN(a)){b=0>c.hiddenColumns.indexOf(a)}else if(g(a)){b=[];m(a,function(a){b.push(0>c.hiddenColumns.indexOf(a))})}return b};v.prototype.add=function(a){var b=this,c,d=document.createElement("th");if(!this.dt.headings.length){this.dt.insert({headings:[a.heading],data:a.data.map(function(a){return[a]})});this.rebuild();return}if(!this.dt.hiddenHeader){if(a.heading.nodeName){d.appendChild(a.heading)}else{d.innerHTML=a.heading}}else{d.innerHTML=""}this.dt.headings.push(d);m(this.dt.data,function(d,e){if(a.data[e]){c=document.createElement("td");if(a.data[e].nodeName){c.appendChild(a.data[e])}else{c.innerHTML=a.data[e]}c.data=c.innerHTML;if(a.render){c.innerHTML=a.render.call(b,c.data,c,d)}d.appendChild(c)}});if(a.type){d.setAttribute("data-type",a.type)}if(a.format){d.setAttribute("data-format",a.format)}if(a.hasOwnProperty("sortable")){d.sortable=a.sortable;d.setAttribute("data-sortable",!0===a.sortable?"true":"false")}this.rebuild();this.dt.renderHeader()};v.prototype.remove=function(a){if(g(a)){a.sort(function(c,a){return a-c});m(a,function(a){this.remove(a)},this)}else{this.dt.headings.splice(a,1);m(this.dt.data,function(b){b.removeChild(b.cells[a])})}this.rebuild()};v.prototype.sort=function(c,d,e){var f=this.dt;if(f.hasHeadings&&(1>c||c>f.activeHeadings.length)){return!1}f.sorting=!0;c=c-1;var g,h=f.data,i=[],j=[],k=0,l=0,o=f.activeHeadings[c];c=o.originalCellIndex;m(h,function(a){var d=a.cells[c],e=d.hasAttribute("data-content")?d.getAttribute("data-content"):d.data,f=e.replace(/(\$|\,|\s|%)/g,"");if("date"===o.getAttribute("data-type")&&b.moment){var g=!1,h=o.hasAttribute("data-format");if(h){g=o.getAttribute("data-format")}f=u(e,g)}if(parseFloat(f)==f){j[l++]={value:+f,row:a}}else{i[k++]={value:e,row:a}}});var p,s;if(q.contains(o,"asc")||"asc"==d){p=r(i,-1);s=r(j,-1);g="descending";q.remove(o,"asc");q.add(o,"desc")}else{p=r(j,1);s=r(i,1);g="ascending";q.remove(o,"desc");q.add(o,"asc")}if(f.lastTh&&o!=f.lastTh){q.remove(f.lastTh,"desc");q.remove(f.lastTh,"asc")}f.lastTh=o;h=p.concat(s);f.data=[];var t=[];m(h,function(a,b){f.data.push(a.row);if(null!==a.row.searchIndex&&a.row.searchIndex!==void 0){t.push(b)}},f);f.searchData=t;this.rebuild();f.update();if(!e){f.emit("datatable.sort",c,g)}};v.prototype.rebuild=function(){var e,f,g,h,j=this.dt,k=[];j.activeRows=[];j.activeHeadings=[];m(j.headings,function(a,b){a.originalCellIndex=b;a.sortable="false"!==a.getAttribute("data-sortable");if(0>j.hiddenColumns.indexOf(b)){j.activeHeadings.push(a)}},this);m(j.data,function(a,b){e=a.cloneNode();f=a.cloneNode();e.dataIndex=f.dataIndex=b;if(null!==a.searchIndex&&a.searchIndex!==void 0){e.searchIndex=f.searchIndex=a.searchIndex}m(a.cells,function(a){g=a.cloneNode(!0);g.data=a.data;e.appendChild(g);if(0>j.hiddenColumns.indexOf(a.cellIndex)){h=a.cloneNode(!0);h.data=a.data;f.appendChild(h)}});k.push(e);j.activeRows.push(f)});j.data=k;j.update()};var w=function(a,b){this.dt=a;this.rows=b;return this};w.prototype.build=function(b){var c,d=a("tr"),e=this.dt.headings;if(!e.length){e=b.map(function(){return""})}m(e,function(e,f){c=a("td");if(!b[f]&&!b[f].length){b[f]=""}c.innerHTML=b[f];c.data=b[f];d.appendChild(c)});return d};w.prototype.render=function(a){return a};w.prototype.add=function(a){if(g(a)){var b=this.dt;if(g(a[0])){m(a,function(a){b.data.push(this.build(a))},this)}else{b.data.push(this.build(a))}if(b.data.length){b.hasRows=!0}this.update();b.columns().rebuild()}};w.prototype.remove=function(a){var b=this.dt;if(g(a)){a.sort(function(c,a){return a-c});m(a,function(a){b.data.splice(a,1)})}else{b.data.splice(a,1)}this.update();b.columns().rebuild()};w.prototype.update=function(){m(this.dt.data,function(a,b){a.dataIndex=b})};var x=function(a,b){this.initialized=!1;this.options=j(e,b);if("string"==typeof a){a=document.querySelector(a)}this.initialLayout=a.innerHTML;this.initialSortable=this.options.sortable;if(!this.options.header){this.options.sortable=!1}if(null===a.tHead){if(!this.options.data||this.options.data&&!this.options.data.headings){this.options.sortable=!1}}if(a.tBodies.length&&!a.tBodies[0].rows.length){if(this.options.data){if(!this.options.data.data){throw new Error("You seem to be using the data option, but you've not defined any rows.")}}}this.table=a;this.init()};x.extend=function(a,b){if("function"==typeof b){x.prototype[a]=b}else{x[a]=b}};var y=x.prototype;y.init=function(b){if(this.initialized||q.contains(this.table,"dataTable-table")){return!1}var c=this;this.options=j(this.options,b||{});this.isIE=!!/(msie|trident)/i.test(navigator.userAgent);this.currentPage=1;this.onFirstPage=!0;this.hiddenColumns=[];this.columnRenderers=[];this.selectedColumns=[];this.render();setTimeout(function(){c.emit("datatable.init");c.initialized=!0;if(c.options.plugins){m(c.options.plugins,function(b,d){if(c[d]&&"function"==typeof c[d]){c[d]=c[d](b,{each:m,extend:j,classList:q,createElement:a});if(b.enabled&&c[d].init&&"function"==typeof c[d].init){c[d].init()}}})}},10)};y.render=function(b){if(b){switch(b){case"page":this.renderPage();break;case"pager":this.renderPager();break;case"header":this.renderHeader();break;}return!1}var c=this,d=c.options,e="";if(d.data){t.call(c)}if(d.ajax){var f=d.ajax,g=new XMLHttpRequest,i=function(a){c.emit("datatable.ajax.progress",a,g)},k=function(a){if(4===g.readyState){c.emit("datatable.ajax.loaded",a,g);if(200===g.status){var b={data:f.load?f.load.call(c,g):g.responseText,type:"json"};if(f.content&&f.content.type){b.type=f.content.type;b=j(b,f.content)}c.import(b);c.setColumns(!0);c.emit("datatable.ajax.success",a,g)}else{c.emit("datatable.ajax.error",a,g)}}},l=function(a){c.emit("datatable.ajax.error",a,g)},o=function(a){c.emit("datatable.ajax.abort",a,g)};n(g,"progress",i);n(g,"load",k);n(g,"error",l);n(g,"abort",o);c.emit("datatable.ajax.loading",g);g.open("GET","string"==typeof f?d.ajax:d.ajax.url);g.send()}c.body=c.table.tBodies[0];c.head=c.table.tHead;c.foot=c.table.tFoot;if(!c.body){c.body=a("tbody");c.table.appendChild(c.body)}c.hasRows=0<c.body.rows.length;if(!c.head){var p=a("thead"),h=a("tr");if(c.hasRows){m(c.body.rows[0].cells,function(){h.appendChild(a("th"))});p.appendChild(h)}c.head=p;c.table.insertBefore(c.head,c.body);c.hiddenHeader=!d.ajax}c.headings=[];c.hasHeadings=0<c.head.rows.length;if(c.hasHeadings){c.header=c.head.rows[0];c.headings=[].slice.call(c.header.cells)}if(!d.header){if(c.head){c.table.removeChild(c.table.tHead)}}if(d.footer){if(c.head&&!c.foot){c.foot=a("tfoot",{html:c.head.innerHTML});c.table.appendChild(c.foot)}}else{if(c.foot){c.table.removeChild(c.table.tFoot)}}c.wrapper=a("div",{class:"dataTable-wrapper dataTable-loading"});e+="<div class='dataTable-top'>";e+=d.layout.top;e+="</div>";e+="<div class='dataTable-container'></div>";e+="<div class='dataTable-bottom'>";e+=d.layout.bottom;e+="</div>";e=e.replace("{info}","<div class='dataTable-info'></div>");if(d.perPageSelect){var r="<div class='dataTable-dropdown'><label>";r+=d.labels.perPage;r+="</label></div>";var s=a("select",{class:"dataTable-selector"});m(d.perPageSelect,function(a){var b=a===d.perPage,c=new Option(a,a,b,b);s.add(c)});r=r.replace("{select}",s.outerHTML);e=e.replace("{select}",r)}else{e=e.replace("{select}","")}if(d.searchable){var u="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+d.labels.placeholder+"' type='text'></div>";e=e.replace("{search}",u)}else{e=e.replace("{search}","")}if(c.hasHeadings){this.render("header")}q.add(c.table,"dataTable-table");var v=a("div",{class:"dataTable-pagination"}),w=a("ul");v.appendChild(w);e=e.replace(/\{pager\}/g,v.outerHTML);c.wrapper.innerHTML=e;c.container=c.wrapper.querySelector(".dataTable-container");c.pagers=c.wrapper.querySelectorAll(".dataTable-pagination");c.label=c.wrapper.querySelector(".dataTable-info");c.table.parentNode.replaceChild(c.wrapper,c.table);c.container.appendChild(c.table);c.rect=c.table.getBoundingClientRect();c.data=[].slice.call(c.body.rows);c.activeRows=c.data.slice();c.activeHeadings=c.headings.slice();c.update();if(!d.ajax){c.setColumns()}this.fixHeight();c.fixColumns();if(!d.header){q.add(c.wrapper,"no-header")}if(!d.footer){q.add(c.wrapper,"no-footer")}if(d.sortable){q.add(c.wrapper,"sortable")}if(d.searchable){q.add(c.wrapper,"searchable")}if(d.fixedHeight){q.add(c.wrapper,"fixed-height")}if(d.fixedColumns){q.add(c.wrapper,"fixed-columns")}c.bindEvents()};y.renderPage=function(){if(this.hasRows&&this.totalPages){if(this.currentPage>this.totalPages){this.currentPage=1}var a=this.currentPage-1,b=c.createDocumentFragment();if(this.hasHeadings){i(this.header,this.isIE);m(this.activeHeadings,function(a){this.header.appendChild(a)},this)}m(this.pages[a],function(a){b.appendChild(this.rows().render(a))},this);this.clear(b);this.onFirstPage=1===this.currentPage;this.onLastPage=this.currentPage===this.lastPage}else{this.clear()}var d=0,e=0,g=0,h;if(this.totalPages){d=this.currentPage-1;e=d*this.options.perPage;g=e+this.pages[d].length;e=e+1;h=!!this.searching?this.searchData.length:this.data.length}if(this.label&&this.options.labels.info.length){var j=this.options.labels.info.replace("{start}",e).replace("{end}",g).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",h);this.label.innerHTML=h?j:""}if(1==this.currentPage){this.fixHeight()}};y.renderPager=function(){i(this.pagers,this.isIE);if(1<this.totalPages){var a=c.createDocumentFragment(),b=this.onFirstPage?1:this.currentPage-1,d=this.onlastPage?this.totalPages:this.currentPage+1;if(this.options.firstLast){a.appendChild(k("pager",1,this.options.firstText))}if(this.options.nextPrev){a.appendChild(k("pager",b,this.options.prevText))}var e=this.links;if(this.options.truncatePager){e=s(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)}q.add(this.links[this.currentPage-1],"active");m(e,function(b){q.remove(b,"active");a.appendChild(b)});q.add(this.links[this.currentPage-1],"active");if(this.options.nextPrev){a.appendChild(k("pager",d,this.options.nextText))}if(this.options.firstLast){a.appendChild(k("pager",this.totalPages,this.options.lastText))}m(this.pagers,function(b){b.appendChild(a.cloneNode(!0))})}};y.renderHeader=function(){var b=this;b.labels=[];if(b.headings&&b.headings.length){m(b.headings,function(c,d){b.labels[d]=c.textContent;if(q.contains(c.firstElementChild,"dataTable-sorter")){c.innerHTML=c.firstElementChild.innerHTML}c.sortable="false"!==c.getAttribute("data-sortable");c.originalCellIndex=d;if(b.options.sortable&&c.sortable){var e=a("a",{href:"#",class:"dataTable-sorter",html:c.innerHTML});c.innerHTML="";c.setAttribute("data-sortable","");c.appendChild(e)}})}b.fixColumns()};y.bindEvents=function(){var a=this,b=a.options;if(b.perPageSelect){var c=a.wrapper.querySelector(".dataTable-selector");if(c){n(c,"change",function(){b.perPage=parseInt(this.value,10);a.update();a.fixHeight();a.emit("datatable.perpage",b.perPage)})}}if(b.searchable){a.input=a.wrapper.querySelector(".dataTable-input");if(a.input){n(a.input,"keyup",function(){a.search(this.value)})}}n(a.wrapper,"click",function(c){var d=c.target;if("a"===d.nodeName.toLowerCase()){if(d.hasAttribute("data-page")){a.page(d.getAttribute("data-page"));c.preventDefault()}else if(b.sortable&&q.contains(d,"dataTable-sorter")&&"false"!=d.parentNode.getAttribute("data-sortable")){a.columns().sort(a.activeHeadings.indexOf(d.parentNode)+1);c.preventDefault()}}})};y.setColumns=function(a){var b=this;if(!a){m(b.data,function(a){m(a.cells,function(a){a.data=a.innerHTML})})}if(b.options.columns&&b.headings.length){m(b.options.columns,function(a){if(!g(a.select)){a.select=[a.select]}if(a.hasOwnProperty("render")&&"function"==typeof a.render){b.selectedColumns=b.selectedColumns.concat(a.select);b.columnRenderers.push({columns:a.select,renderer:a.render})}m(a.select,function(c){var d=b.headings[c];if(a.type){d.setAttribute("data-type",a.type)}if(a.format){d.setAttribute("data-format",a.format)}if(a.hasOwnProperty("sortable")){d.setAttribute("data-sortable",a.sortable)}if(a.hasOwnProperty("hidden")){if(!1!==a.hidden){b.columns().hide(c)}}if(a.hasOwnProperty("sort")&&1===a.select.length){b.columns().sort(a.select[0]+1,a.sort,!0)}})})}if(b.hasRows){m(b.data,function(a,b){a.dataIndex=b;m(a.cells,function(a){a.data=a.innerHTML})});if(b.selectedColumns.length){m(b.data,function(a){m(a.cells,function(c,d){if(-1<b.selectedColumns.indexOf(d)){m(b.columnRenderers,function(e){if(-1<e.columns.indexOf(d)){c.innerHTML=e.renderer.call(b,c.data,c,a)}})}})})}b.columns().rebuild()}b.render("header")};y.destroy=function(){this.table.innerHTML=this.initialLayout;q.remove(this.table,"dataTable-table");this.wrapper.parentNode.replaceChild(this.table,this.wrapper);this.initialized=!1};y.update=function(){q.remove(this.wrapper,"dataTable-empty");this.paginate(this);this.render("page");this.links=[];var a=this.pages.length;while(a--){var b=a+1;this.links[a]=k(0===a?"active":"",b,b)}this.sorting=!1;this.render("pager");this.rows().update();this.emit("datatable.update")};y.paginate=function(){var a=this.options.perPage,b=this.activeRows;if(this.searching){b=[];m(this.searchData,function(a){b.push(this.activeRows[a])},this)}this.pages=b.map(function(c,d){return 0==d%a?b.slice(d,d+a):null}).filter(function(a){return a});this.totalPages=this.lastPage=this.pages.length;return this.totalPages};y.fixColumns=function(){if(this.options.fixedColumns&&this.activeHeadings&&this.activeHeadings.length){var b,d=!1;this.columnWidths=[];if(this.table.tHead){m(this.activeHeadings,function(a){a.style.width=""},this);m(this.activeHeadings,function(a,b){var c=a.offsetWidth,d=100*(c/this.rect.width);a.style.width=d+"%";this.columnWidths[b]=c},this)}else{b=[];d=a("thead");var e=a("tr"),f=this.table.tBodies[0].rows[0].cells;m(f,function(){var c=a("th");e.appendChild(c);b.push(c)});d.appendChild(e);this.table.insertBefore(d,this.body);var c=[];m(b,function(a,b){var d=a.offsetWidth,e=100*(d/this.rect.width);c.push(e);this.columnWidths[b]=d},this);m(this.data,function(a){m(a.cells,function(a,b){if(this.columns(a.cellIndex).visible())a.style.width=c[b]+"%"},this)},this);this.table.removeChild(d)}}};y.fixHeight=function(){if(this.options.fixedHeight){this.container.style.height=null;this.rect=this.container.getBoundingClientRect();this.container.style.height=this.rect.height+"px"}};y.search=function(a){if(!this.hasRows)return!1;var b=this;a=a.toLowerCase();this.currentPage=1;this.searching=!0;this.searchData=[];if(!a.length){this.searching=!1;this.update();this.emit("datatable.search",a,this.searchData);q.remove(this.wrapper,"search-results");return!1}this.clear();m(this.data,function(c,d){var e=-1<this.searchData.indexOf(c),f=a.split(" ").reduce(function(a,d){for(var e=!1,f=null,g=null,h=0;h<c.cells.length;h++){f=c.cells[h];g=f.hasAttribute("data-content")?f.getAttribute("data-content"):f.textContent;if(-1<g.toLowerCase().indexOf(d)&&b.columns(f.cellIndex).visible()){e=!0;break}}return a&&e},!0);if(f&&!e){c.searchIndex=d;this.searchData.push(d)}else{c.searchIndex=null}},this);q.add(this.wrapper,"search-results");if(!b.searchData.length){q.remove(b.wrapper,"search-results");b.setMessage(b.options.labels.noRows)}else{b.update()}this.emit("datatable.search",a,this.searchData)};y.page=function(a){if(a==this.currentPage){return!1}if(!isNaN(a)){this.currentPage=parseInt(a,10)}if(a>this.pages.length||0>a){return!1}this.render("page");this.render("pager");this.emit("datatable.page",a)};y.sortColumn=function(a,b){this.columns().sort(a,b)};y.insert=function(b){var c=this,d=[];if(f(b)){if(b.headings){if(!c.hasHeadings&&!c.hasRows){var e=a("tr"),h;m(b.headings,function(b){h=a("th",{html:b});e.appendChild(h)});c.head.appendChild(e);c.header=e;c.headings=[].slice.call(e.cells);c.hasHeadings=!0;c.options.sortable=c.initialSortable;c.render("header")}}if(b.data&&g(b.data)){d=b.data}}else if(g(b)){m(b,function(a){var b=[];m(a,function(a,d){var e=c.labels.indexOf(d);if(-1<e){b[e]=a}});d.push(b)})}if(d.length){c.rows().add(d);c.hasRows=!0}c.update();c.fixColumns()};y.refresh=function(){if(this.options.searchable){this.input.value="";this.searching=!1}this.currentPage=1;this.onFirstPage=!0;this.update();this.emit("datatable.refresh")};y.clear=function(a){if(this.body){i(this.body,this.isIE)}var b=this.body;if(!this.body){b=this.table}if(a){if("string"==typeof a){var d=c.createDocumentFragment();d.innerHTML=a}b.appendChild(a)}};y.export=function(a){if(!this.hasHeadings&&!this.hasRows)return!1;var b=this.activeHeadings,c=[],e=[],h,k,l,m;if(!f(a)){return!1}var n=j({download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4},a);if(n.type){if("txt"===n.type||"csv"===n.type){c[0]=this.header}if(n.selection){if(!isNaN(n.selection)){c=c.concat(this.pages[n.selection-1])}else if(g(n.selection)){for(h=0;h<n.selection.length;h++){c=c.concat(this.pages[n.selection[h]-1])}}}else{c=c.concat(this.activeRows)}if(c.length){if("txt"===n.type||"csv"===n.type){l="";for(h=0;h<c.length;h++){for(k=0;k<c[h].cells.length;k++){if(0>n.skipColumn.indexOf(b[k].originalCellIndex)&&this.columns(b[k].originalCellIndex).visible()){var o=c[h].cells[k].textContent;o=o.trim();o=o.replace(/\s{2,}/g," ");o=o.replace(/\n/g,"  ");o=o.replace(/"/g,"\"\"");if(-1<o.indexOf(","))o="\""+o+"\"";l+=o+n.columnDelimiter}}l=l.trim().substring(0,l.length-1);l+=n.lineDelimiter}l=l.trim().substring(0,l.length-1);if(n.download){l="data:text/csv;charset=utf-8,"+l}}else if("sql"===n.type){l="INSERT INTO `"+n.tableName+"` (";for(h=0;h<b.length;h++){if(0>n.skipColumn.indexOf(b[h].originalCellIndex)&&this.columns(b[h].originalCellIndex).visible()){l+="`"+b[h].textContent+"`,"}}l=l.trim().substring(0,l.length-1);l+=") VALUES ";for(h=0;h<c.length;h++){l+="(";for(k=0;k<c[h].cells.length;k++){if(0>n.skipColumn.indexOf(b[k].originalCellIndex)&&this.columns(b[k].originalCellIndex).visible()){l+="\""+c[h].cells[k].textContent+"\","}}l=l.trim().substring(0,l.length-1);l+="),"}l=l.trim().substring(0,l.length-1);l+=";";if(n.download){l="data:application/sql;charset=utf-8,"+l}}else if("json"===n.type){for(k=0;k<c.length;k++){e[k]=e[k]||{};for(h=0;h<b.length;h++){if(0>n.skipColumn.indexOf(b[h].originalCellIndex)&&this.columns(b[h].originalCellIndex).visible()){e[k][b[h].textContent]=c[k].cells[h].textContent}}}l=JSON.stringify(e,n.replacer,n.space);if(n.download){l="data:application/json;charset=utf-8,"+l}}if(n.download){n.filename=n.filename||"datatable_export";n.filename+="."+n.type;l=encodeURI(l);m=document.createElement("a");m.href=l;m.download=n.filename;d.appendChild(m);m.click();d.removeChild(m)}return l}}return!1};y.import=function(a){var b=!1;if(!f(a)){return!1}a=j({lineDelimiter:"\n",columnDelimiter:","},a);if(a.data.length||f(a.data)){if("csv"===a.type){b={data:[]};var c=a.data.split(a.lineDelimiter);if(c.length){if(a.headings){b.headings=c[0].split(a.columnDelimiter);c.shift()}m(c,function(c,d){b.data[d]=[];var e=c.split(a.columnDelimiter);if(e.length){m(e,function(a){b.data[d].push(a)})}})}}else if("json"===a.type){var d=h(a.data);if(d){b={headings:[],data:[]};m(d,function(a,c){b.data[c]=[];m(a,function(a,d){if(0>b.headings.indexOf(d)){b.headings.push(d)}b.data[c].push(a)})})}else{console.warn("That's not valid JSON!")}}if(f(a.data)){b=a.data}if(b){this.insert(b)}}return!1};y.print=function(){var c=this.activeHeadings,d=this.activeRows,e=a("table"),f=a("thead"),g=a("tbody"),h=a("tr");m(c,function(b){h.appendChild(a("th",{html:b.textContent}))});f.appendChild(h);m(d,function(b){var c=a("tr");m(b.cells,function(b){c.appendChild(a("td",{html:b.textContent}))});g.appendChild(c)});e.appendChild(f);e.appendChild(g);var i=b.open();i.document.body.appendChild(e);i.print()};y.setMessage=function(b){var c=1;if(this.hasRows){c=this.data[0].cells.length}q.add(this.wrapper,"dataTable-empty");this.clear(a("tr",{html:"<td class=\"dataTables-empty\" colspan=\""+c+"\">"+b+"</td>"}))};y.columns=function(a){return new v(this,a)};y.rows=function(a){return new w(this,a)};y.on=function(a,b){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(b)};y.off=function(a,b){this.events=this.events||{};if(!1==a in this.events)return;this.events[a].splice(this.events[a].indexOf(b),1)};y.emit=function(a){this.events=this.events||{};if(!1==a in this.events)return;for(var b=0;b<this.events[a].length;b++){this.events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};return x});
//# sourceMappingURL=vanilla-datatables.min.js.map
